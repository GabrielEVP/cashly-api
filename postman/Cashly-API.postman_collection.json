{
	"info": {
		"_postman_id": "cashly-api-collection",
		"name": "Cashly API",
		"description": "Colección completa de endpoints de Cashly API - Sistema de gestión financiera",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{accessToken}}",
				"type": "string"
			}
		]
	},
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:8080",
			"type": "string"
		},
		{
			"key": "accessToken",
			"value": "",
			"type": "string"
		},
		{
			"key": "refreshToken",
			"value": "",
			"type": "string"
		},
		{
			"key": "userId",
			"value": "",
			"type": "string"
		},
		{
			"key": "accountId",
			"value": "",
			"type": "string"
		},
		{
			"key": "transactionId",
			"value": "",
			"type": "string"
		},
		{
			"key": "expenseId",
			"value": "",
			"type": "string"
		},
		{
			"key": "incomeId",
			"value": "",
			"type": "string"
		}
	],
	"item": [
		{
			"name": "Health Check",
			"item": [
				{
					"name": "Health Status",
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/actuator/health",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"actuator",
								"health"
							]
						},
						"description": "Verifica el estado de salud de la API"
					},
					"response": []
				}
			]
		},
		{
			"name": "Authentication",
			"item": [
				{
					"name": "Register User",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const response = pm.response.json();",
									"    pm.collectionVariables.set('userId', response.id);",
									"    pm.environment.set('userId', response.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"user@example.com\",\n    \"password\": \"Password123!\",\n    \"firstName\": \"John\",\n    \"lastName\": \"Doe\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/register",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"register"
							]
						},
						"description": "Registra un nuevo usuario en el sistema"
					},
					"response": []
				},
				{
					"name": "Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    pm.collectionVariables.set('accessToken', response.accessToken);",
									"    pm.collectionVariables.set('refreshToken', response.refreshToken);",
									"    pm.collectionVariables.set('userId', response.user.id);",
									"    pm.environment.set('accessToken', response.accessToken);",
									"    pm.environment.set('refreshToken', response.refreshToken);",
									"    pm.environment.set('userId', response.user.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"user@example.com\",\n    \"password\": \"Password123!\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/login",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"login"
							]
						},
						"description": "Inicia sesión y obtiene tokens de acceso y refresh"
					},
					"response": []
				},
				{
					"name": "Refresh Token",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    pm.collectionVariables.set('accessToken', response.accessToken);",
									"    pm.collectionVariables.set('refreshToken', response.refreshToken);",
									"    pm.environment.set('accessToken', response.accessToken);",
									"    pm.environment.set('refreshToken', response.refreshToken);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"refreshToken\": \"{{refreshToken}}\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/refresh",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"refresh"
							]
						},
						"description": "Renueva el token de acceso usando el refresh token"
					},
					"response": []
				},
				{
					"name": "Logout",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"refreshToken\": \"{{refreshToken}}\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/logout",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"auth",
								"logout"
							]
						},
						"description": "Cierra la sesión del usuario"
					},
					"response": []
				}
			]
		},
		{
			"name": "Accounts",
			"item": [
				{
					"name": "Create Account",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const response = pm.response.json();",
									"    pm.collectionVariables.set('accountId', response.id);",
									"    pm.environment.set('accountId', response.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"userId\": \"{{userId}}\",\n    \"name\": \"Cuenta Principal\",\n    \"type\": \"CHECKING\",\n    \"currency\": \"USD\",\n    \"initialBalance\": 1000.00,\n    \"description\": \"Mi cuenta principal\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/accounts",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"accounts"
							]
						},
						"description": "Crea una nueva cuenta bancaria"
					},
					"response": []
				},
				{
					"name": "Get Account By ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X-User-Id",
								"value": "{{userId}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/accounts/{{accountId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"accounts",
								"{{accountId}}"
							]
						},
						"description": "Obtiene los detalles de una cuenta específica"
					},
					"response": []
				},
				{
					"name": "Get All Accounts",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X-User-Id",
								"value": "{{userId}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/accounts",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"accounts"
							]
						},
						"description": "Obtiene todas las cuentas del usuario"
					},
					"response": []
				},
				{
					"name": "Update Account",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-User-Id",
								"value": "{{userId}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"name\": \"Cuenta Principal Actualizada\",\n    \"description\": \"Descripción actualizada\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/accounts/{{accountId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"accounts",
								"{{accountId}}"
							]
						},
						"description": "Actualiza los datos de una cuenta"
					},
					"response": []
				},
				{
					"name": "Deactivate Account",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "X-User-Id",
								"value": "{{userId}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/accounts/{{accountId}}/deactivate",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"accounts",
								"{{accountId}}",
								"deactivate"
							]
						},
						"description": "Desactiva una cuenta sin eliminarla"
					},
					"response": []
				},
				{
					"name": "Delete Account",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "X-User-Id",
								"value": "{{userId}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/accounts/{{accountId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"accounts",
								"{{accountId}}"
							]
						},
						"description": "Elimina permanentemente una cuenta"
					},
					"response": []
				}
			]
		},
		{
			"name": "Transactions",
			"item": [
				{
					"name": "Create Transaction",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const response = pm.response.json();",
									"    pm.collectionVariables.set('transactionId', response.id);",
									"    pm.environment.set('transactionId', response.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"userId\": \"{{userId}}\",\n    \"accountId\": \"{{accountId}}\",\n    \"type\": \"DEPOSIT\",\n    \"amount\": 500.00,\n    \"description\": \"Depósito inicial\",\n    \"category\": \"INCOME\",\n    \"date\": \"2025-10-02T10:00:00Z\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/transactions",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"transactions"
							]
						},
						"description": "Crea una nueva transacción"
					},
					"response": []
				},
				{
					"name": "Get Transaction By ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/transactions/{{transactionId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"transactions",
								"{{transactionId}}"
							]
						},
						"description": "Obtiene los detalles de una transacción específica"
					},
					"response": []
				},
				{
					"name": "Get Transactions By User",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/transactions?userId={{userId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"transactions"
							],
							"query": [
								{
									"key": "userId",
									"value": "{{userId}}"
								}
							]
						},
						"description": "Obtiene todas las transacciones de un usuario"
					},
					"response": []
				},
				{
					"name": "Get Transactions By Account",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/transactions/account/{{accountId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"transactions",
								"account",
								"{{accountId}}"
							]
						},
						"description": "Obtiene todas las transacciones de una cuenta"
					},
					"response": []
				},
				{
					"name": "Update Transaction Status",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"status\": \"COMPLETED\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/transactions/{{transactionId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"transactions",
								"{{transactionId}}"
							]
						},
						"description": "Actualiza el estado de una transacción"
					},
					"response": []
				},
				{
					"name": "Cancel Transaction",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/transactions/{{transactionId}}/cancel",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"transactions",
								"{{transactionId}}",
								"cancel"
							]
						},
						"description": "Cancela una transacción"
					},
					"response": []
				}
			]
		},
		{
			"name": "Expenses",
			"item": [
				{
					"name": "Create Expense",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const response = pm.response.json();",
									"    pm.collectionVariables.set('expenseId', response.id);",
									"    pm.environment.set('expenseId', response.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"userId\": \"{{userId}}\",\n    \"accountId\": \"{{accountId}}\",\n    \"amount\": 150.00,\n    \"category\": \"FOOD\",\n    \"description\": \"Compras del supermercado\",\n    \"date\": \"2025-10-02T10:00:00Z\",\n    \"isRecurring\": false\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/expenses",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"expenses"
							]
						},
						"description": "Crea un nuevo gasto"
					},
					"response": []
				},
				{
					"name": "Get Expense By ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/expenses/{{expenseId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"expenses",
								"{{expenseId}}"
							]
						},
						"description": "Obtiene los detalles de un gasto específico"
					},
					"response": []
				},
				{
					"name": "Get All Expenses",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/expenses",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"expenses"
							]
						},
						"description": "Obtiene todos los gastos del usuario"
					},
					"response": []
				},
				{
					"name": "Update Expense",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"amount\": 175.00,\n    \"category\": \"FOOD\",\n    \"description\": \"Compras del supermercado - actualizado\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/expenses/{{expenseId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"expenses",
								"{{expenseId}}"
							]
						},
						"description": "Actualiza un gasto existente"
					},
					"response": []
				},
				{
					"name": "Delete Expense",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/expenses/{{expenseId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"expenses",
								"{{expenseId}}"
							]
						},
						"description": "Elimina un gasto"
					},
					"response": []
				},
				{
					"name": "Spending Trend",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/expenses/analytics/spending-trend?userId={{userId}}&startDate=2025-01-01&endDate=2025-12-31",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"expenses",
								"analytics",
								"spending-trend"
							],
							"query": [
								{
									"key": "userId",
									"value": "{{userId}}"
								},
								{
									"key": "startDate",
									"value": "2025-01-01"
								},
								{
									"key": "endDate",
									"value": "2025-12-31"
								}
							]
						},
						"description": "Analiza la tendencia de gastos en un período"
					},
					"response": []
				},
				{
					"name": "Budget Utilization",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/expenses/analytics/budget-utilization?userId={{userId}}&month=10&year=2025",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"expenses",
								"analytics",
								"budget-utilization"
							],
							"query": [
								{
									"key": "userId",
									"value": "{{userId}}"
								},
								{
									"key": "month",
									"value": "10"
								},
								{
									"key": "year",
									"value": "2025"
								}
							]
						},
						"description": "Analiza la utilización del presupuesto"
					},
					"response": []
				},
				{
					"name": "Category Analysis",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/expenses/analytics/category-analysis?userId={{userId}}&startDate=2025-01-01&endDate=2025-12-31",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"expenses",
								"analytics",
								"category-analysis"
							],
							"query": [
								{
									"key": "userId",
									"value": "{{userId}}"
								},
								{
									"key": "startDate",
									"value": "2025-01-01"
								},
								{
									"key": "endDate",
									"value": "2025-12-31"
								}
							]
						},
						"description": "Analiza gastos por categoría"
					},
					"response": []
				},
				{
					"name": "Monthly Average",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/expenses/analytics/monthly-average?userId={{userId}}&months=6",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"expenses",
								"analytics",
								"monthly-average"
							],
							"query": [
								{
									"key": "userId",
									"value": "{{userId}}"
								},
								{
									"key": "months",
									"value": "6"
								}
							]
						},
						"description": "Calcula el promedio mensual de gastos"
					},
					"response": []
				}
			]
		},
		{
			"name": "Incomes",
			"item": [
				{
					"name": "Create Income",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const response = pm.response.json();",
									"    pm.collectionVariables.set('incomeId', response.id);",
									"    pm.environment.set('incomeId', response.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"userId\": \"{{userId}}\",\n    \"accountId\": \"{{accountId}}\",\n    \"amount\": 3000.00,\n    \"source\": \"SALARY\",\n    \"description\": \"Salario mensual\",\n    \"date\": \"2025-10-01T00:00:00Z\",\n    \"isRecurring\": true\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/incomes",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"incomes"
							]
						},
						"description": "Crea un nuevo ingreso"
					},
					"response": []
				},
				{
					"name": "Get Income By ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/incomes/{{incomeId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"incomes",
								"{{incomeId}}"
							]
						},
						"description": "Obtiene los detalles de un ingreso específico"
					},
					"response": []
				},
				{
					"name": "Get All Incomes",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/incomes",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"incomes"
							]
						},
						"description": "Obtiene todos los ingresos del usuario"
					},
					"response": []
				},
				{
					"name": "Update Income",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"amount\": 3200.00,\n    \"source\": \"SALARY\",\n    \"description\": \"Salario mensual con aumento\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/incomes/{{incomeId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"incomes",
								"{{incomeId}}"
							]
						},
						"description": "Actualiza un ingreso existente"
					},
					"response": []
				},
				{
					"name": "Delete Income",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/incomes/{{incomeId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"incomes",
								"{{incomeId}}"
							]
						},
						"description": "Elimina un ingreso"
					},
					"response": []
				},
				{
					"name": "Growth Analysis",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/incomes/analytics/growth-analysis?userId={{userId}}&months=12",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"incomes",
								"analytics",
								"growth-analysis"
							],
							"query": [
								{
									"key": "userId",
									"value": "{{userId}}"
								},
								{
									"key": "months",
									"value": "12"
								}
							]
						},
						"description": "Analiza el crecimiento de ingresos"
					},
					"response": []
				}
			]
		}
	]
}
